<!DOCTYPE html>
<html lang="en"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="While working on a toy web crawler, I ran into an issue that circulated the web in the early 2010s: should URLs end with a trailing /?
There&rsquo;s a vintage (15 year old) StackOverflow thread that discusses the topic. Mainly that depending on the choice, relative paths point to different places:
child relative to /base/ is /base/child.
child relative to /base is (perhaps surprisingly) /child.
Most web servers (Apache, Nginx) follow the convention that a trailing / means &ldquo;look for index.html in this directory&rdquo;. If the path is a directory and there&rsquo;s no trailing slash, you normally get a 301 redirect:">  

  <title>
    
      Trailing Slash in URLs?
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
  
  
  
  <link rel="stylesheet" href="//localhost:1313/css/main.6b6ad22da25c9d6bd7fbe69da10779317be0e08272f1df8119c6d09e5d301439111c131e1faa6e9751f2c5dacdb60267d1079967df66ded0ec8c05d2b630711d.css" integrity="sha512-a2rSLaJcnWvX&#43;&#43;adoQd5MXvg4IJy8d&#43;BGcbQnl0wFDkRHBMeH6pul1HyxdrNtgJn0QeZZ99m3tDsjAXStjBxHQ==" />
  
</head>

    <script defer src="/js/theme-toggle.min.js"></script>
    <body a="auto">
        <main class="page-content" aria-label="Content">
            <div class="w">
                <button
  id="theme-toggle"
  aria-label="Toggle theme"
  style="
    all: unset;
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 999;
    font-size: 1.2rem;
    line-height: 1;
    padding: 0;
    margin: 0;
    cursor: pointer;
  "
>
  ðŸŒ“
</button>

                <div class="post-meta">
                    <a href="/">..</a>

                    <p>
                        <time datetime="2026-01-30 00:00:00 &#43;0000 UTC">
                            2026-01-30
                        </time>
                    </p>
                </div>

<article>
    <h1>Trailing Slash in URLs?</h1>

    
  
    
    
    <aside class="series-nav">
      <p><strong>Part of series: <a href="/series/retro-bugs/">Retro Bugs</a></strong></p>
      
      <ol>
        
        <li>
          
            Trailing Slash in URLs? (current)
          
        </li>
        
        <li>
          
            <a href="//localhost:1313/posts/left-pad/">`npm left-pad` Incident</a>
          
        </li>
        
      </ol>
      
    </aside>
  



    

    <p>While working on a toy web crawler, I ran into an issue that circulated the web in the early 2010s: should URLs end with a trailing <code>/</code>?</p>
<p>There&rsquo;s a vintage (15 year old) <a href="https://stackoverflow.com/questions/5948659/when-should-i-use-a-trailing-slash-in-my-url">StackOverflow</a> thread that discusses the topic. Mainly that depending on the choice, relative paths point to different places:</p>
<pre tabindex="0"><code>child relative to /base/ is /base/child.
child relative to /base is (perhaps surprisingly) /child.
</code></pre><p>Most web servers (Apache, Nginx) follow the convention that a trailing <code>/</code> means &ldquo;look for index.html in this directory&rdquo;. If the path is a directory and there&rsquo;s no trailing slash, you normally get a 301 redirect:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>me@MacBookPro ~/R/camachom.github.io <span style="color:#f92672">(</span>master<span style="color:#f92672">)</span>&gt; curl -I -L https://me.vs.computer/posts/rate-limiter-system-design
</span></span><span style="display:flex;"><span>HTTP/2 <span style="color:#ae81ff">301</span>
</span></span><span style="display:flex;"><span>date: Fri, <span style="color:#ae81ff">30</span> Jan <span style="color:#ae81ff">2026</span> 20:32:49 GMT
</span></span><span style="display:flex;"><span>server: AmazonS3
</span></span><span style="display:flex;"><span>location: /posts/rate-limiter-system-design/
</span></span><span style="display:flex;"><span>x-cache: Miss from cloudfront
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HTTP/2 <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span>content-type: text/html
</span></span><span style="display:flex;"><span>content-length: <span style="color:#ae81ff">11134</span>
</span></span><span style="display:flex;"><span>date: Fri, <span style="color:#ae81ff">30</span> Jan <span style="color:#ae81ff">2026</span> 20:32:50 GMT
</span></span><span style="display:flex;"><span>cache-control: public, max-age<span style="color:#f92672">=</span>0, s-maxage<span style="color:#f92672">=</span><span style="color:#ae81ff">31536000</span>
</span></span><span style="display:flex;"><span>server: AmazonS3
</span></span><span style="display:flex;"><span>....
</span></span></code></pre></div><p>I did a little reading on the <a href="https://httpd.apache.org/docs/current/mod/mod_dir.html">Apache docs</a> about how this works and ran into a security advisory:</p>
<pre tabindex="0"><code>Security Warning

Turning off the trailing slash redirect may result in an information disclosure.
Consider a situation where mod_autoindex is active (Options +Indexes) and
DirectoryIndex is set to a valid resource (say, index.html) and there&#39;s no other
special handler defined for that URL. In this case a request with a trailing
slash would show the index.html file. But a request without trailing slash would
list the directory contents.
</code></pre><p>This inspired me to reproduce this &ldquo;retro&rdquo; bug. The idea is to accidentally expose the content of a directory by omitting the trailing slash in the URL. I call it retro because this is most likely to happen when publishing a static site like a blog or a landing page. With options like GitHub Pages and AWS Amplify, I doubt people are manually starting EC2 instances and installing Apache. But I did it for the plot. Yes, I stood up an EC2 just for this.</p>
<p>So <a href="https://github.com/camachom/infra/blob/main/projects/redirect-security-toy/user-data.sh#L6">here&rsquo;s</a> how I shot myself in the foot:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>cat <span style="color:#e6db74">&lt;&lt;EOF &gt;/etc/httpd/conf.d/demo.conf
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;Directory &#34;/var/www/html&#34;&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Options Indexes
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    AllowOverride None
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Require all granted
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    DirectoryIndex index.html
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    DirectorySlash Off
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&lt;/Directory&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><p>I turned off <code>DirectorySlash</code>. <code>http://54.183.206.165/demo/</code> works as expected:</p>
<p><img src="/files/demo.png" alt="index.html"></p>
<p>And this is what you get without the slash (`http://54.183.206.165/demo):</p>
<p><img src="/files/secret.png" alt="directory listing"></p>
<p>Secret exposed. There&rsquo;s something fun and silly about purposefully reproducing a bug that probably hasn&rsquo;t happened in decades. Feels like a claim to fame tbh. I&rsquo;ll take it.</p>

</article>

            </div>
        </main>
    </body></html>
