<!DOCTYPE html>
<html lang="en"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="I&rsquo;m going to reproduce the famous npm left-pad incident. I love it when bugs have (wikipedia)[https://en.wikipedia.org/wiki/Npm_left-pad_incident] pages. TLDR: a maintainer removed a library called left-pad from NPM breaking any project attempting to install it.
Why did this create chaos?
Popular projects like React and Babel didnâ€™t explicitly import left-pad but pulled it indirectly through their dependency trees. Here is a visual of my project&rsquo;s dependency tree:
me@MacBookPro ~/R/l/app&gt; npm ls -a
app@1.0.0 /Users/me/Repos/leftpad-repro/app
â””â”€â”¬ mid-lib@1.0.0
  â””â”€â”€ tiny-pad@1.0.
mid-lib is acting like React or Babel and tiny-pad is acting like left-pad. Instead of using npm as a registry, I created a directory called packages. For each package, I ran npm pack to create a tarball simulating a published package. All that mid-lib does is call tiny-pad:">  

  <title>
    
      `npm left-pad` Incident
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
  
  
  
  <link rel="stylesheet" href="//localhost:1313/css/main.6b6ad22da25c9d6bd7fbe69da10779317be0e08272f1df8119c6d09e5d301439111c131e1faa6e9751f2c5dacdb60267d1079967df66ded0ec8c05d2b630711d.css" integrity="sha512-a2rSLaJcnWvX&#43;&#43;adoQd5MXvg4IJy8d&#43;BGcbQnl0wFDkRHBMeH6pul1HyxdrNtgJn0QeZZ99m3tDsjAXStjBxHQ==" />
  
</head>

    <script defer src="/js/theme-toggle.min.js"></script>
    <body a="auto">
        <main class="page-content" aria-label="Content">
            <div class="w">
                <button
  id="theme-toggle"
  aria-label="Toggle theme"
  style="
    all: unset;
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 999;
    font-size: 1.2rem;
    line-height: 1;
    padding: 0;
    margin: 0;
    cursor: pointer;
  "
>
  ðŸŒ“
</button>

                <div class="post-meta">
                    <a href="/">..</a>

                    <p>
                        <time datetime="2026-02-06 00:00:00 &#43;0000 UTC">
                            2026-02-06
                        </time>
                    </p>
                </div>

<article>
    <h1>`npm left-pad` Incident</h1>

    
  
    
    
    <aside class="series-nav">
      <p><strong>Part of series: <a href="/series/retro-bugs/">Retro Bugs</a></strong></p>
      
      <ol>
        
        <li>
          
            <a href="//localhost:1313/posts/trailing-slash-url/">Trailing Slash in URLs?</a>
          
        </li>
        
        <li>
          
            `npm left-pad` Incident (current)
          
        </li>
        
      </ol>
      
    </aside>
  



    

    <p>I&rsquo;m going to reproduce the famous <code>npm left-pad</code> incident. I love it when bugs have (wikipedia)[https://en.wikipedia.org/wiki/Npm_left-pad_incident] pages. TLDR: a maintainer removed a library called <code>left-pad</code> from NPM breaking any project attempting to install it.</p>
<p>Why did this create chaos?</p>
<p>Popular projects like <code>React</code> and <code>Babel</code> didnâ€™t explicitly import <code>left-pad</code> but pulled it indirectly through their dependency trees. Here is a visual of my project&rsquo;s dependency tree:</p>
<pre tabindex="0"><code>me@MacBookPro ~/R/l/app&gt; npm ls -a
app@1.0.0 /Users/me/Repos/leftpad-repro/app
â””â”€â”¬ mid-lib@1.0.0
  â””â”€â”€ tiny-pad@1.0.
</code></pre><p><code>mid-lib</code> is acting like <code>React</code> or <code>Babel</code> and <code>tiny-pad</code> is acting like <code>left-pad</code>. Instead of using <code>npm</code> as a registry, I created a directory called <code>packages</code>. For each package, I ran <code>npm pack</code> to create a tarball simulating a published package. All that <code>mid-lib</code> does is call <code>tiny-pad</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// packages/mid-lib/index.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">pad</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;tiny-pad&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">formatId</span>(<span style="color:#a6e22e">n</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">pad</span>(<span style="color:#a6e22e">n</span>, <span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#34;0&#34;</span>);
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// packages/mid-lib/package.json
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;mid-lib&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;version&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;main&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;index.js&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;dependencies&#34;</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// the file I got after running `npm pack`
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#34;tiny-pad&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;file:../tiny-pad/tiny-pad-1.0.0.tgz&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Similarly, here is <code>tiny-pad</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">tinyPad</span>(<span style="color:#a6e22e">str</span>, <span style="color:#a6e22e">len</span>, <span style="color:#a6e22e">ch</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; &#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> String(<span style="color:#a6e22e">str</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">str</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">len</span>) <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">str</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ch</span>.<span style="color:#a6e22e">repeat</span>(<span style="color:#a6e22e">len</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">str</span>.<span style="color:#a6e22e">length</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">str</span>;
</span></span><span style="display:flex;"><span>  };
</span></span></code></pre></div><p>As is, the project runs as expected:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>me@MacBookPro ~/R/l/app <span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>&gt; npm install
</span></span><span style="display:flex;"><span>added <span style="color:#ae81ff">2</span> packages, and audited <span style="color:#ae81ff">3</span> packages in 472ms
</span></span><span style="display:flex;"><span>found <span style="color:#ae81ff">0</span> vulnerabilities
</span></span><span style="display:flex;"><span>me@MacBookPro ~/R/l/app <span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>&gt; node index.js
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00007</span>
</span></span></code></pre></div><p>But what happens if I remove <code>tiny-pad-1.0.0.tgz</code> and run <code>npm install</code> at the top level?</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>me@MacBookPro ~/R/l/app <span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>&gt; rm ../packages/tiny-pad/tiny-pad-1.0.0.tgz
</span></span><span style="display:flex;"><span>me@MacBookPro ~/R/l/app <span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>&gt; npm install
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>up to date, audited <span style="color:#ae81ff">3</span> packages in 496ms
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>found <span style="color:#ae81ff">0</span> vulnerabilities
</span></span><span style="display:flex;"><span>me@MacBookPro ~/R/l/app <span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>&gt; node index.js
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">00007</span>
</span></span></code></pre></div><p>Absolutely nothing! I admit: that was a trick question. <code>package.json</code> hasn&rsquo;t changed, so it aligns with <code>package-lock.json</code> and <code>/node_modules</code> so <code>npm</code> does nothing. To trigger the error, we need a fresh install:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>me@MacBookPro ~/R/l/app <span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>&gt; rm -rf node_modules package-lock.json
</span></span><span style="display:flex;"><span>me@MacBookPro ~/R/l/app <span style="color:#f92672">(</span>main<span style="color:#f92672">)</span>&gt; npm install
</span></span><span style="display:flex;"><span>npm warn tarball tarball data <span style="color:#66d9ef">for</span> tiny-pad@file:../tiny-pad/tiny-pad-1.0.0.tgz <span style="color:#f92672">(</span>null<span style="color:#f92672">)</span> seems to be corrupted. Trying again.
</span></span><span style="display:flex;"><span>npm warn tarball tarball data <span style="color:#66d9ef">for</span> tiny-pad@file:../tiny-pad/tiny-pad-1.0.0.tgz <span style="color:#f92672">(</span>null<span style="color:#f92672">)</span> seems to be corrupted. Trying again.
</span></span><span style="display:flex;"><span>npm warn tarball tarball data <span style="color:#66d9ef">for</span> tiny-pad@file:../tiny-pad/tiny-pad-1.0.0.tgz <span style="color:#f92672">(</span>null<span style="color:#f92672">)</span> seems to be corrupted. Trying again.
</span></span><span style="display:flex;"><span>npm warn tarball tarball data <span style="color:#66d9ef">for</span> tiny-pad@file:../tiny-pad/tiny-pad-1.0.0.tgz <span style="color:#f92672">(</span>null<span style="color:#f92672">)</span> seems to be corrupted. Trying again.
</span></span><span style="display:flex;"><span>npm error code ENOENT
</span></span><span style="display:flex;"><span>npm error syscall open
</span></span><span style="display:flex;"><span>npm error path /Users/me/Repos/leftpad-repro/app/node_modules/tiny-pad/tiny-pad-1.0.0.tgz
</span></span><span style="display:flex;"><span>npm error errno -2
</span></span><span style="display:flex;"><span>npm error enoent ENOENT: no such file or directory, open <span style="color:#e6db74">&#39;/Users/me/Repos/leftpad-repro/app/node_modules/tiny-pad/tiny-pad-1.0.0.tgz&#39;</span>
</span></span><span style="display:flex;"><span>npm error enoent This is related to npm not being able to find a file.
</span></span><span style="display:flex;"><span>npm error enoent
</span></span><span style="display:flex;"><span>npm error A complete log of this run can be found in: /Users/me/.npm/_logs/2026-02-08T22_54_18_238Z-debug-0.log
</span></span></code></pre></div><p>This is exactly what happened with the <code>left-pad</code> incident. <code>mid-lib</code> hasn&rsquo;t changed but a fresh install will try to pull a non-existent <code>tiny-pad</code>.</p>

</article>

            </div>
        </main>
    </body></html>
